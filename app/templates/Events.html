<!DOCTYPE html>
<html>
    <head>
        <title>Furniture</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Jquery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

        <!-- Bootstrap -->
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script> 
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        
        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="../Static/Events.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
        
        <!-- AngularJS -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-route.min.js"></script>
         

        <!-- Javascript -->
        <script src="../Scripts/Profile_options_form.js"></script>
        
        
        

    </head>
    
    <body ng-app = "myApp">
        
        <div class="header">
            <button type="button" class="button" onclick="navigateTo('/')">Home</button> 
            <button type="button" class="button" onclick="navigateTo('/events')">Events </button> 
            <button type="button" class="button" onclick="navigateTo('/info')">Info</button> 
            <button type="button" class="button"  onclick="navigateTo('/history')">History</button>
            <!--Dark Mode button-->
            <button type="button" class="toggle-btn" onclick="toggleDarkMode()">Dark Mode</button>
            <div class="login">
                <button type="button" class="login_btn" id="myButton" onclick="navigateTo('/login')">{{sessionValue}}</button>
                <button type="button" class="Profile_opt" onclick="showProfileOptions()">...</button> </button>
            </div>

            <!-- Profile options Form -->
            <div class="form-popup" id="opt_myForm">
                <form class="form-container" >
                  
                  <div id="option_form">
                    <button type="button" class="p_button" onclick="navigateTo('/profile')">Profile</button><br><br>
                    <button type="button" class="p_button" onclick="navigateTo('/login')">Sign in with different account</button><br><br><br><br>
                    <button type="button" class="p_button" onclick="navigateTo('/logout')">Logout</button>
                  </div>
              
                </form>
            </div>
            
        </div>
        <br><br>
        
        <form class="" action="/searchUserEvents" method="POST">
            <div class="search">
                <label class="searchlbl">Search</label>
                <input type="text" class="search_field" name="search_bar" id="Search" placeholder="Search" ></input>
                <button type="submit">üîç</button><br>
                <label class="filterlbl">Filter</label>
                <select name="filter" id="filter" >
                    <option>Title</option>
                    <option>Date</option>
                    <option>Location</option>    
                </select>
                
            </div>
        </form>


        
        <form>
            <table ng-controller="DataController">
                <thead >
                    <tr>
                        <th><h3>Title</h3></th>
                        <th><h3>State</h3></th>
                        <th><h3>Date</h3></th>
                        <th><h3>Location</h3></th>
                        <th><h3>Reviews</h3></th>
                    </tr>
                </thead>
                <tbody>
                   {{tableRows}}
                    
                </tbody>
                
            </table>
        </form>

        
        

        <script>
            function navigateTo(page) {
              window.location.href = page;
            }

            //Dark Mode
            const toggleButton = document.getElementById('dark-mode-toggle');
            const prefersDarkMode = localStorage.getItem('darkMode');

            if (prefersDarkMode === 'true') {
                document.body.classList.add('dark-mode');
            }

            function toggleDarkMode(){
                var body = document.body;
                body.classList.toggle("dark-mode");
                const isDarkMode = document.body.classList.contains('dark-mode');
                localStorage.setItem('darkMode', isDarkMode);
            }
            

            
        </script>
        
        
        


        <div class="footer">
            <img src="../Static/Logo.png">
            &copy;
            <a href="http://www.ds.unipi.gr/" target="_blank">
                DS_UNIPI</a>. All rights reserved.
            <div class="info">
                üìûPhone: 999-999-99
                üìßEmail: furniture@mail.com
            </div>
        </div>

        <div ng-view></div>
    </body>
    
</html>